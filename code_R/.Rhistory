setwd("E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R")
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
experiment_files
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
p <- ScaleData(fres)
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
p
histogram(p)
hist(p)
hist(as.numeric(p))
hist(as.table(p))
p
class(p)
as.table(p)
c(p)
ulist(p)
unlist(p)
histogram(unlist(p))
hist(unlist(p))
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
p
log(p)
p[p>0]
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
p
hist(p)
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
simval
hist(simval)
hist(log(simval))
hist(log10(simval))
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
scaled
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
p
hist(p)
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hm_all_exporters_weight
hm_all_exporters_weight_log <- log10(hm_all_exporters_weight)
hm_all_exporters_weight_log
hm_all_exporters_weight
hm_all_exporters_weight$names
names(hm_all_exporters_weight)
hm_all_exporters_weight$collection
hm_sim_exporters_weight_log <- log10(hm_sim)
hm_sim_exporters_weight_log <- log10(hm_sim$cuenta)
hm_sim_exporters_weight_log
hist(hm_sim_exporters_weight_log)
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hist(hm_sim_exporters_weight_log)
hist(hm_sim_exporters_weight_log)
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hist(hm_sim_exporters_weight_log)
numexper
numexper
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
numexper
length(hm_sim_exporters_weight_log)
length(hm_sim_exporters_weight_log)
summary(hm_sim_exporters_weight_log)
hm_sim_exporters_weight_log
hm_sim_exporters_weight_log
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hm_sim_exporters_weight_log
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hm_sim_exporters_weight_log
summary(hm_sim_exporters_weight_log)
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
summary(hm_sim_exporters_weight_log)
hist(hm_sim_exporters_weight_log)
hist(hm_sim_exporters_weight_log,breaks=30)
hm_sim
hm_sim
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hm_sim_exp_cuenta
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hm_sim_exp_cuenta
hist(hm_sim_exp_cuenta)
hist(log10(hm_sim_exp_cuenta))
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hm_sim_exp_cuenta
hist(log10(hm_sim_exp_cuenta))
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hist(hm_sim_exporters_weight_log)
hist(hm_sim_exporters_weight_log,breaks=30)
hm_sim_avg_exporters_weight <- 10^hm_sim_exporters_weight_log
hm_sim_avg_exporters_weight
hist(hm_sim_avg_exporters_weight)
hist(log10(hm_sim_avg_exporters_weight))
hm_sim_avg_exporters_weight
hm_all_importers_deg
nrow(hm_sim_avg_exporters_weight)
length(hm_sim_avg_exporters_weight)
for (k in seq(1:length(hm_sim_avg_exporters_weight))){
df <- data.frame("N"=c(),"cuenta"=c(),"type"=c())
df$N <- hm_sim_avg_exporters_weight[k]
hm_all_exporters_weight <- rbind(hm_all_exporters_weight,df)
}
hm_sim_avg_exporters_weight <- 10^hm_sim_exporters_weight_log
for (k in seq(1:length(hm_sim_avg_exporters_weight))){
df <- data.frame("N"=c(),"cuenta"=c(),"type"=c())
df$N <- hm_sim_avg_exporters_weight[k]
hm_all_exporters_weight <- rbind(hm_all_exporters_weight,df)
}
hm_sim_avg_exporters_weight <- 10^hm_sim_exporters_weight_log
for (k in seq(1:length(hm_sim_avg_exporters_weight))){
df <- data.frame("N"=0,"type"="Avg","collection"="EXP")
df$N <- hm_sim_avg_exporters_weight[k]
hm_all_exporters_weight <- rbind(hm_all_exporters_weight,df)
}
names(hm_sim_avg_exporters_weight)
hm_sim_avg_exporters_weight
hm_all_exporters_weight
names(hm_all_exporters_weight)
hm_sim_avg_exporters_weight <- 10^hm_sim_exporters_weight_log
for (k in seq(1:length(hm_sim_avg_exporters_weight))){
df <- data.frame("N"=0,"cuenta"=0,"type"="Avg","collection"="EXP")
df$cuenta <- hm_sim_avg_exporters_weight[k]
hm_all_exporters_weight <- rbind(hm_all_exporters_weight,df)
}
hm_sim_avg_exporters_weight <- 10^hm_sim_exporters_weight_log
df <- data.frame("N"=0,"cuenta"=0,"type"="Avg","collection"="EXP")
zeros <- rep(0,length(hm_sim_avg_exporters_weight))
df$cuenta <- zeros
hm_sim_avg_exporters_weight <- 10^hm_sim_exporters_weight_log
veces <- length(hm_sim_avg_exporters_weight)
df <- data.frame("N"=seq(1,veces),"cuenta"=rep(0,veces),"type"=rep("Avg",veces),"collection"=rep("EXP",veces))
hm_sim_avg_exporters_weight <- 10^hm_sim_exporters_weight_log
veces <- length(hm_sim_avg_exporters_weight)
df <- data.frame("N"=seq(1,veces),"cuenta"=rep(0,veces),"type"=rep("Avg",veces),"collection"=rep("EXP",veces))
zeros <- rep(0,length(hm_sim_avg_exporters_weight))
df$cuenta <- zeros
for (k in seq(1:length(hm_sim_avg_exporters_weight))){
df$cuenta[k] <- hm_sim_avg_exporters_weight[k]
hm_all_exporters_weight <- rbind(hm_all_exporters_weight,df)
}
hm_sim_avg_exporters_weight <- 10^hm_sim_exporters_weight_log
veces <- length(hm_sim_avg_exporters_weight)
df <- data.frame("N"=seq(1,veces),"cuenta"=rep(0,veces),"type"=rep("Avg",veces),"collection"=rep("EXP",veces))
zeros <- rep(0,length(hm_sim_avg_exporters_weight))
df$cuenta <- zeros
for (k in seq(1:length(hm_sim_avg_exporters_weight))){
df$cuenta[k] <- hm_sim_avg_exporters_weight[k]
}
hm_all_exporters_weight <- rbind(hm_all_exporters_weight,df)
hm_all_exporters_weight
hm_all_exporters_weight$type
t <- PaintDensPlot(hm_all_exporters_weight,"Exporters","Normalized strength")
t
View(hm_all_exporters_weight)
View(hm_all_exporters_weight)
t <- PaintDensPlot(hm_all_exporters_weight,"Exporters","Normalized strength")
print(t)
PaintDensPlot <- function(datos,titletext,xlabel)
{
p <- ggplot() + geom_density(aes(x= cuenta, color = collection, fill = collection),  alpha = .1,
data=datos, position = "identity",bins = 50)+
xlab(xlabel)+ylab("Count\n")+
ggtitle(titletext)+ scale_x_log10()+
scale_fill_manual(values=c("blue","white","red","green"))+
scale_color_manual(values=c("blue","grey","red","green"))+
theme_bw() +
theme(panel.border = element_blank(),
legend.key = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
panel.grid.major.y = element_line(linetype = 2, color="ivory3"),
panel.grid.major.x = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size=12, face="bold"),
axis.line = element_line(colour = "black"),
plot.title = element_text(lineheight=.8, face="bold"),
axis.text = element_text(face="bold", size=13),
axis.title.x = element_text(face="bold", size=13),
axis.title.y  = element_text(face="bold", size=13) )
return(p)
}
t <- PaintDensPlot(hm_all_exporters_weight,"Exporters","Normalized strength")
print(t)
hm_sim_avg_exporters_weight <- 10^hm_sim_exporters_weight_log
veces <- length(hm_sim_avg_exporters_weight)
df <- data.frame("N"=seq(1,veces),"cuenta"=rep(0,veces),"type"=rep("EXP",veces),"collection"=rep("Avg",veces))
zeros <- rep(0,length(hm_sim_avg_exporters_weight))
df$cuenta <- zeros
for (k in seq(1:length(hm_sim_avg_exporters_weight))){
df$cuenta[k] <- hm_sim_avg_exporters_weight[k]
}
t <- PaintDensPlot(hm_all_exporters_weight,"Exporters","Normalized strength")
print(t)
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
print(t)
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
print(t)
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
print(t)
bt <- PaintBoxPlot(hm_all_exporters_weight,"Exporters","Normalized strength")
bt <- PaintBoxPlot(hm_all_exporters_weight,"Exporters","Normalized strength")
bt
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hm_sim_avg_importers_weight <- 10^hm_sim_importers_weight_log
veces <- length(hm_sim_avg_importers_weight)
df <- data.frame("N"=seq(1,veces),"cuenta"=rep(0,veces),"type"=rep("IMP",veces),"collection"=rep("Avg",veces))
zeros <- rep(0,length(hm_sim_avg_importers_weight))
df$cuenta <- zeros
for (k in seq(1:length(hm_sim_avg_importers_weight))){
df$cuenta[k] <- hm_sim_avg_importers_weight[k]
}
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
veces
hm_sim_avg_importers_weight
hm_sim_importers_weight_log
hm_sim_exporters_weight_log
hm_sim_importers_weight_log
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
hm_sim_exp_cuenta
hm_sim_imp_cuenta
hm_sim
hm_sim$type
hm_sim[(hm_sim$collection=="Synthetic") && (hm_sim$type=="IMP"),]
hm_sim[(hm_sim$collection=="Synthetic") && (hm_sim$type=="EXP"),]
hm_sim[(hm_sim$collection=="Synthetic") && (hm_sim$type=="EXP"),]
hm_sim[(hm_sim$collection=="Synthetic") && (hm_sim$type=="IMP"),]
hm_sim$type
hm_sim$collection
(hm_sim$collection=="Synthetic") && (hm_sim$type=="IMP")
(hm_sim$collection=="Synthetic") && (hm_sim$type=="EXP")
hm_sim
names(hm_sim)
hm_sim[(hm_sim$collection=="Synthetic") & (hm_sim$type=="EXP"),]
hm_sim[(hm_sim$collection=="Synthetic") & (hm_sim$type=="IMP"),]
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
r
t
print(r)
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
r
print(t)
br
hm_all_importers_weight
r <- PaintDensPlot(hm_all_importers_weight,"Importers","Normalized strength")
print(r)
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
print(r)
print(t)
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
print(t)
source('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
print(t)
hm_all_exporters_weight
View(hm_all_exporters_weight)
t <- PaintDensPlot(hm_all_exporters_weight,"Exporters","Normalized strength")
print(t)
debugSource('E:/disco_usuario/javier/upm/synhtrade/synthrade/code_R/add_log_normals.R')
t
hm_all_exporters_weight
t
